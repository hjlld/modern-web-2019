(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["compute"],{"169a":function(t,e,i){"use strict";i("368e");var a=i("2b0e"),s=a["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const i=parseInt(this[`${t}Delay`],10);this[`${t}Timeout`]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),i)}}}),n=i("f2e7"),r=i("58df"),o=i("80d2"),l=i("d9bd");const c=Object(r["a"])(s,n["a"]);var h=c.extend({name:"activatable",props:{activator:{default:null,validator:t=>{return["string","object"].includes(typeof t)}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean},data:()=>({activatorElement:null,activatorNode:[]}),watch:{activator(){this.activatorElement=null,this.getActivator()}},mounted(){const t=Object(o["l"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(l["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this)},methods:{getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},genActivator(){const t=Object(o["k"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},getContentSlot(){return Object(o["k"])(this,"default",this.getValueProxy(),!0)},genActivatorAttributes(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=t=>{this.getActivator(t),this.runDelay("open")},t.mouseleave=t=>{this.getActivator(t),this.runDelay("close")}):t.click=t=>{const e=this.getActivator(t);e&&e.focus(),this.isActive=!this.isActive},t},getActivator(t){if(this.activatorElement)return this.activatorElement;let e=null;if(this.activator){const t=this.internalActivator?this.$el:document;e="string"===typeof this.activator?t.querySelector(this.activator):this.activator}else t?e=t.currentTarget||t.target:this.activatorNode.length&&(e=this.activatorNode[0].elm);return this.activatorElement=e,this.activatorElement}}}),d=i("b848"),u=i("9d65");function v(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}var m=Object(r["a"])(u["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:v},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent:"initDetach"},beforeMount(){this.$nextTick(()=>{if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)})}})},mounted(){this.eager&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)})}}catch(t){console.log(t)}},methods:{getScopeIdAttrs(){const t=Object(o["j"])(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.insertBefore(this.$refs.content,t.firstChild),this.hasDetached=!0):Object(l["c"])(`Unable to locate target ${this.attach||"[data-app]"}`,this)}}}),g=i("e707"),p=a["a"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout(()=>{this.isActive=!1})}}}),f=a["a"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(o["m"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,i=[this.stackMinZIndex,Object(o["m"])(e)],a=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let s=0;s<a.length;s++)t.includes(a[s])||i.push(Object(o["m"])(a[s]));return Math.max(...i)}}}),y=i("a293"),b=i("7560"),x=Object(r["a"])(b["a"]).extend({name:"theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:b["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(t=>!t.isComment&&" "!==t.text)}});const _=Object(r["a"])(h,d["a"],m,g["a"],p,f,n["a"]);e["a"]=_.extend({name:"v-dialog",directives:{ClickOutside:y["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,fullWidth:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(!this.isActive||this.$refs.content.contains(e))&&(this.$emit("click:outside"),this.persistent?(this.noClickAnimation||this.overlay!==e||this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):g["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$refs.content.focus(),this.bind()},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onKeydown(t){if(t.keyCode===o["n"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t.length&&t[0].focus()}}},render(t){const e=[],i={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:()=>{this.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:t=>{t.stopPropagation()}},style:{}};this.fullscreen||(i.style={maxWidth:"none"===this.maxWidth?void 0:Object(o["e"])(this.maxWidth),width:"auto"===this.width?void 0:Object(o["e"])(this.width)}),e.push(this.genActivator());let a=t("div",i,this.showLazyContent(this.getContentSlot()));return this.transition&&(a=t("transition",{props:{name:this.transition,origin:this.origin}},[a])),e.push(t("div",{class:this.contentClasses,attrs:{role:"document",tabindex:0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(x,{props:{root:!0,light:this.light,dark:this.dark}},[a])])),t("div",{staticClass:"v-dialog__container",attrs:{role:"dialog"},style:{display:!this.hasActivator||this.fullWidth?"block":"inline-block"}},e)}})},"368e":function(t,e,i){},"615b":function(t,e,i){},"6ece":function(t,e,i){},"8ad3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-content",{staticClass:"ma-0 pa-0 grey-lighten-1"},[i("v-container",{attrs:{"grid-list-xl":"","fill-height":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":"","align-content-center":""}},[i("v-flex",{staticClass:"display-3 font-weight-light text-center mb-5",attrs:{xs12:""}},[t._v("\n                并行计算 - WebGL 2.0 Compute Shader\n            ")]),i("v-flex",{staticClass:"display-1 font-weight-light text-center",attrs:{xs12:""}},[t._v("\n                双调排序 - 這是一种可以并行计算的排序方法\n            ")]),i("v-flex",{attrs:{xs4:""}},[i("v-card",{attrs:{hover:""}},[i("highlight-code",{attrs:{code:t.cpuCode}})],1)],1),i("v-flex",{attrs:{xs8:""}},[i("v-card",{attrs:{hover:""}},[i("highlight-code",{attrs:{code:t.gpuCode}})],1)],1),i("v-flex",{attrs:{xs4:""}},[i("v-btn",{attrs:{block:"",color:"primary",light:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Run Benchmark")]),i("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{flat:""}},[i("v-container",{attrs:{"grid-list-xs":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-center",attrs:{xs6:""}},[i("div",{staticClass:"title"},[t._v("CPU Sort")]),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.computeCPU()}}},[t._v("Start Sorting")]),0!==t.cpuTime?i("div",{staticClass:"display-2 mt-3"},[t._v(t._s(Math.round(t.cpuTime))+" ms")]):t._e()],1),i("v-flex",{staticClass:"text-center",attrs:{xs6:""}},[i("div",{staticClass:"title"},[t._v("GPU Sort")]),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.computeGPU()}}},[t._v("Start Sorting")]),0!==t.gpuTime?i("div",{staticClass:"display-2 mt-3"},[t._v(t._s(Math.round(t.gpuTime))+" ms")]):t._e()],1),i("v-flex",{staticClass:"text-center mt-3",attrs:{xs12:""}},[i("div",{staticClass:"subheader mb-3",staticStyle:{"font-family":"Consola"}},[t._v("Array.length = Math.pow( 2, 21 );  "),i("span",{staticClass:"grey--text"},[t._v("//2097152")])]),i("v-btn",{attrs:{color:"accent",text:""},on:{click:function(e){return t.randomizeArray()}}},[t._v("Randomize Array")])],1),i("v-flex",{staticClass:"ma-3",staticStyle:{height:"300px","overflow-y":"auto"},attrs:{xs12:""}},[t._v("\n                                    "+t._s(t.textArray)+"\n                                ")])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},s=[],n=i("39ff"),r=i("3968"),o={components:{"highlight-code":r["a"]},data:()=>({dialog:!1,array:new Float32Array(Math.pow(2,21)),textArray:"",cpuTime:0,gpuTime:0,GPUSort:void 0,cpuCode:"\n    Array.sort( \n        \n        ( a, b ) => {\n\n            return a - b\n\n        }\n\n    ); ",gpuCode:"\n    const canvas = document.createElement( 'canvas' );\n\n    // Create WebGL2ComputeRenderingContext\n    const context = canvas.getContext( 'webgl2-compute' );\n\n    ...\n\n    context.dispatchCompute( threadgroupsPerGrid, 1, 1 ); \n    "}),mounted:function(){this.GPUSort=new n["a"]},methods:{randomizeArray(){this.cpuTime=0,this.gpuTime=0;for(let t=0;t<this.array.length;++t)this.array[t]=Math.random();this.arrayToText(this.array)},arrayToText(t){let e=100,i=t.slice(0,e);this.textArray="";for(let a=0;a<i.length;++a)this.textArray+=`${i[a].toString()}, `},computeCPU(){this.cpuTime=0;let t=this.array.slice(0),e=performance.now();t.sort((t,e)=>{return t-e}),this.cpuTime=performance.now()-e,this.arrayToText(t)},computeGPU(){let t=this.array.slice(0),e=this.GPUSort.compute(t);this.gpuTime=e.costTime,this.arrayToText(e.array)},validateSorted(t){let e=t.length;for(let i=0;i<e;i++)if(i!==e-1&&t[i]>t[i+1])return console.log("validation error:",i,t[i],t[i+1]),!1;return!0}}},l=o,c=i("2877"),h=i("6544"),d=i.n(h),u=i("8336"),v=i("b0af"),m=i("80d2");const g=Object(m["g"])("v-card__actions"),p=Object(m["g"])("v-card__text"),f=Object(m["g"])("v-card__title");v["a"];var y=i("a523"),b=i("a75b"),x=i("169a"),_=i("0e8f"),C=i("a722"),k=i("2fa4"),A=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=A.exports;d()(A,{VBtn:u["a"],VCard:v["a"],VCardActions:g,VContainer:y["a"],VContent:b["a"],VDialog:x["a"],VFlex:_["a"],VLayout:C["a"],VSpacer:k["a"]})},b0af:function(t,e,i){"use strict";i("615b");var a=i("10d2"),s=i("2b0e"),n=(i("6ece"),i("0789")),r=i("a9ad"),o=i("fe6c"),l=i("a452"),c=i("7560"),h=i("80d2"),d=i("58df");const u=Object(d["a"])(r["a"],Object(o["b"])(["absolute","fixed","top","bottom"]),l["a"],c["a"]);var v=u.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(h["e"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(h["e"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,width:Object(h["e"])(this.normalizedBuffer,"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,...this.themeClasses}},computedTransition(){return this.indeterminate?n["b"]:n["c"]},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(h["e"])(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=Object(h["k"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(h["e"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),m=v,g=s["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(m,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}}),p=i("1c87");e["a"]=Object(d["a"])(g,p["a"],a["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean},computed:{classes(){return{"v-card":!0,...p["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.loading||this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,...a["a"].options.computed.classes.call(this)}},styles(){const t={...a["a"].options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=g.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress"},[t]):null}},render(t){const{tag:e,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})}}]);
//# sourceMappingURL=compute.a6cdf8f1.js.map